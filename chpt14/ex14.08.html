<!DOCTYPE html>
<html>
<head>
	<title>Ex 14.08</title>
	<style>
		body {
			font-family: Arial;
		}
		.btn {
			color: #fff;
			background: #000;
			padding: 0.618em 2.5em;
			text-decoration: none;
			transition: background .5s;
		}	
		.btn:hover {
			background: #117bff;
			cursor: pointer;
			transition: background .5s;
		}

	</style>
	<script type="text/javascript">
		var RunnerId;

		var Runner = {
			animating: false,
			index: 0,
			cells: [
				"run01.png",
				"run02.png",
				"run03.png",
				"run04.png",
				"run05.png",
				"run06.png",
				"run07.png",
				"run08.png",
				"run09.png",
				"run10.png",
				"run11.png",
				"run12.png"
			],
			init: function() {
				console.log("init");
				RunnerId = document.getElementById("runnerId");
				if (RunnerId) {
					RunnerId.onclick = toggleAnimation;
					RunnerId.src = "run01.png";
				}
				this.animating = false;
				this.index = 0;
			},
			showImg: function(index) {
				RunnerId.src = this.cells[index];
			}
		};

		var timeout;
		function animate() {
			if (Runner.animating) {
				Runner.index %= Runner.cells.length;
				Runner.showImg(Runner.index);
				Runner.index++;
				timeout = window.setTimeout(animate, 100);
			}
		}

		function toggleAnimation() {
			Runner.animating = (Runner.animating) ? false : true;
			if (Runner.animating) {
				animate();
			} else {
				if (timeout) {
					window.clearTimeout(timeout);
				}
			}
		}

		window.onload = Runner.init;

	</script>
</head>

<body>
<div align="center">
<h1>Running Man</h1>
<p>... burning man's less interesting cousin.</p>
<br />
<a class="btn" href="#" onclick="toggleAnimation()">Animate</a>
<br /><br />
<hr />
<img id="runnerId" src="run01.png" />
</div>
</body>
</html>